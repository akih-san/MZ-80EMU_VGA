＜SBDBT32を使ったMZ-80エミュレーター＞<br>
<br>
諏訪工房さんのHPで、MZ-1200をPIC32MXでエミュレーションするページを見つけました。<br>
ROMの内容しだいでMZ-80Aとしても動作します。<br>
ランニングエレクトロニクス社のSBDBT32（PIC32MX695F512Hマイコン基板）を使った<br>
MZ-80エミュレーターの記事です。NTSCコンポジット信号でモニタに出力します。<br>
SBDBT32はまだ販売されているので、私もチャレンジしてみました。<br>
とても簡単だったので、あっさり動かすことができました。<br>
MZ-1200や、MZ-80AのROM情報とかCGROMの情報とかは、自分でゲットする<br>
必要がありますが、ネット時代の現代ではさほど難しいことではありません。<br>
<br>
https://twitter.com/akih_san/status/1662101277927677952<br>
<br>
後に、この記事には後編があることを知ります。VGA出力版のエミュレーターです。<br>
この記事は、販売されていないマイコン基板を用いたものでした。<br>
さすがに作成は無理かなと思っていましたが、図面が公開されており、MCUのPIC32MX695F512Hは<br>
部品として購入可能がことが分かり、自作をすることにしました。<br>
問題があるとすれば、0.5mmピッチのTQFPをハンダ付けするハードルが少々高いことでしょうか。<br>
<br>
ユニバーサル基板で自作を行い、MCUは変換基板上で表面実装にチャレンジしてみました。<br>
うまく動作させることが出来たので、その頃始めたKiCadを用いて基板を起こしてみました。<br>
<br>
今回、不満点をフィードバックしたRev2.0を公開いたします。<br>
<br>
https://twitter.com/akih_san/status/1667531969272635392<br>
https://twitter.com/akih_san/status/1672294188547989505<br>
https://twitter.com/akih_san/status/1677326229462982662<br>
<br>
オリジナルのＨＷではＳＤカードのライトプロテクトが準備はされていますが実装されていません。<br>
今回、ライトプロテクトの信号はPIC32MXに接続してありますので、ＨＷを修正すれば実装できます<br>
ので、是非チャレンジしてみてください。<br>
<br>
<公開内容＞<br>
<br>
・基板情報（ガーバーデータ）<br>
・図面（PDF）<br>
・部品表（PDF）<br>
<br>
ファームウェアについては、最後に載せているの諏訪工房さんのページを参照してください。<br>
ファームに関する問い合わせには、当方からお答えすることが出来ませんので、あしからず。<br>
<br>
＜注意点＞<br>
<br>
１）3.3VをＳＤカード基板から得ています。ＳＤカードへの５Ｖ入力は、オリジナルでは、<br>
　　USB-microBを通していますが、本基板では、直接ピンヘッダを立てて５Ｖを入力しています。<br>
<br>
２）デバッグ用のＵＡＲＴと、ＨＷ書き込み用のピンヘッダが、どちらも６ピンなので間違いやすい事。<br>
　　UARTはarduino仕様に合わせてますが、無手順なので3ピンしか使いません。<br>
　　UARTを間違ってHW書き込みポートに接続してしまうと、PIC32MXを壊しまう可能性大です。<br>
　　対策としては、6ピンヘッダを付けるのでは無く、接続に必要なピンだけピンヘッダを付ける<br>
　　のが有効かと思います。（UARTは3ピン、HW書き込みは5ピン）<br>
<br>
<br>
諏訪工房さんのHP<br>
http://www.suwa-koubou.jp/<br>
<br>
PIC32MXで作るMZ-80エミュレータの製作<br>
http://www.suwa-koubou.jp/micom/MZ80Emulator/mz80emu.html<br>
PIC32MXで作るMZ80エミュレータ（VGA出力）の製作<br>
http://mail.suwa-koubou.jp/micom/MZ80EmuVGA/MZ80EmuVGA.html<br>
<br>
<br>
<br>
合同会社ランニングエレクトロニクス<br>
https://www.runele.com/<br>
<br>
＜マイコン基板 SBDBT32＞<br>
https://www.runele.com/ca1/16/p-r-s/<br>
<br>
<br>
https://twitter.com/akih_san<br>
